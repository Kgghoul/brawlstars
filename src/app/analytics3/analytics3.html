<div class="screen">
  <div class="screen-content">
    <div class="group"></div>

    <!-- Заголовок -->
    <div class="text-wrapper-3">АНАЛИТИКА</div>

    <!-- Табы -->
    <div class="frame">
      <div class="div-wrapper" [class.active]="activeTab() === 'general'" (click)="setTab('general')">
        <div class="text-wrapper">ОБЩАЯ</div>
      </div>
      <div class="div" [class.active]="activeTab() === 'detailed'" (click)="setTab('detailed')">
        <div class="text-wrapper-2">ДЕТАЛЬНАЯ</div>
      </div>
    </div>

    <!-- Основной контент -->
    <div class="frame-2">
      <!-- Анализ по карте -->
      <div class="frame-wrapper">
        <div class="frame-3">
          <div class="text-wrapper-4">АНАЛИЗ ПО КАРТЕ</div>
          
          <div class="map-analysis-content">
            <div class="map-image-container">
              <img class="map-image" [src]="mapData.image" [alt]="mapData.name" />
              <div class="map-overlay">
                <div class="map-name-overlay">{{ mapData.name }}</div>
                <div class="map-winrate" [style.color]="mapData.winRate > 50 ? '#00ff26' : '#ff4040'">
                  {{ mapData.winRate }}%
                </div>
              </div>
            </div>
            
            <div class="map-stats">
              <div class="text-wrapper-5">{{ mapData.name }}</div>
              <div class="text-wrapper-6">Побед: {{ mapData.wins }}</div>
              <div class="text-wrapper-7">Поражений: {{ mapData.losses }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Лучшие бойцы -->
      <div class="frame-6">
        <div class="text-wrapper-10">ЛУЧШИЕ БОЙЦЫ</div>
        <div class="frame-12">
          <div class="text-wrapper-14">БОЕЦ</div>
          <div class="text-wrapper-15">WR</div>
          <div class="text-wrapper-16">PICK</div>
        </div>
        
        @for (brawler of bestBrawlers; track brawler.name; let i = $index) {
          <div [class]="i === 0 ? 'frame-7' : (i === 1 ? 'frame-10' : 'frame-11')">
            <div class="frame-8">
              <img class="ellipse" [src]="brawler.avatar" [alt]="brawler.name" />
              <div class="text-wrapper-11">{{ brawler.name }}</div>
            </div>
            <div class="frame-9">
              <div class="text-wrapper-12">{{ brawler.winRate }}%</div>
              <div class="text-wrapper-13">{{ brawler.pickRate }}%</div>
            </div>
          </div>
        }
      </div>

      <!-- Худшие бойцы -->
      <div class="frame-6">
        <div class="text-wrapper-17">ХУДШИЕ БОЙЦЫ</div>
        <div class="frame-12">
          <div class="text-wrapper-14">БОЕЦ</div>
          <div class="text-wrapper-15">WR</div>
          <div class="text-wrapper-16">PICK</div>
        </div>
        
        @for (brawler of worstBrawlers; track brawler.name; let i = $index) {
          <div [class]="i === 0 ? 'frame-7' : (i === 1 ? 'frame-10' : 'frame-11')">
            <div class="frame-8">
              <img class="ellipse" [src]="brawler.avatar" [alt]="brawler.name" />
              <div class="text-wrapper-11">{{ brawler.name }}</div>
            </div>
            <div class="frame-9">
              <div class="text-wrapper-18">{{ brawler.winRate }}%</div>
              <div class="text-wrapper-13">{{ brawler.pickRate }}%</div>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</div>
